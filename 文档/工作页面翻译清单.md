# 工作页面翻译清单（文件与字符串）

下列条目覆盖项目打开后主工作页面中可见的区域。每个小节列出对应实现文件与需要翻译的字符串键或字面量，便于统一转录到 `packages/eez-studio-shared/strings.ts` 并在组件中用 `t(key, fallback)` 引用。

## 布局与入口
- `packages/project-editor/project/ui/ProjectEditor.tsx:55` 组件 `ProjectEditorView`（包含顶部工具栏与整体内容入口）
- `packages/project-editor/project/ui/ProjectEditor.tsx:95–257` 组件 `Content`（根据 FlexLayout 的 `component` 映射各区域）
- `packages/project-editor/store/layout-models.tsx:380–470` 工作区布局 JSON（左侧/中间/右侧/底部 Tab 名称）
- 需要翻译的布局 Tab 名称（在布局模型中作为 `name`）：
  - "Pages"、"User Widgets"、"User Actions"、"Widgets Structure"、"Variables"
  - "Properties"、"Components Palette"
  - "Checks"、"Output"、"Search"、"References"
  - 运行模式下的："Active Flows"、"Watch"、"Queue"、"Logs"、"Breakpoints"

## 顶部工具栏（蓝色条）
- 文件：`packages/project-editor/project/ui/Toolbar.tsx`
  - 左侧编辑按钮区 `EditorButtons`：`Toolbar.tsx:148–521`
  - 中间模式切换区 `RunEditSwitchControls`：`Toolbar.tsx:833–903`
- 需要翻译的字符串（按钮文本/提示）：
  - "Save"、"Undo"、"Redo"、"Cut"、"Copy"、"Paste"
  - "Scrapbook"、"Configuration"、"Check"、"Build"
  - "Run MicroPython Script"
  - "Show front face"、"Show back face"、"Show timeline"、"Show component descriptions"
  - "Edit"、"Enter edit mode (Shift+F5)"
  - "Run"、"Enter run mode (F5)"
  - "Debug"、"Enter debug mode (Ctrl+F5)"
  - 缩放菜单："Global zoom"

## 左侧区域
- Pages 列表
  - 布局：`packages/project-editor/store/layout-models.tsx:398`
  - 渲染：`packages/project-editor/project/ui/ProjectEditor.tsx:110–120`（`component === "pages"` → `<ListNavigation />`）
  - 字符串：Tab 名称 "Pages"；列表内部名称取对象显示名，一般无需翻译，但自定义项可能包含固定英文需评估。
- Widgets Structure（控件结构树）
  - 布局：`packages/project-editor/store/layout-models.tsx:410–413`
  - 渲染：`packages/project-editor/project/ui/ProjectEditor.tsx:150–152`（`<PageStructure />`）
  - 字符串：Tab 名称 "Widgets Structure"；树节点通常为对象名，若默认英文（如控件默认 `text` 值）则在相应控件 `defaultValue` 处统一翻译（见下文 LVGL Widgets）。
- Variables（变量）
  - 布局：`packages/project-editor/store/layout-models.tsx:423–429`
  - 渲染：`packages/project-editor/project/ui/ProjectEditor.tsx:154–156`（`<VariablesTab />`）
  - 子标签可能包含："Global"、"Local"、"Structs"、"Enums"（位于 `VariablesNavigation.tsx`）

## 中间编辑器（画布）
- 编辑器 Tab 容器：`packages/project-editor/store/layout-models.tsx:435–441`（`EDITOR_MODE_EDITORS_TABSET_ID`）
- 动态渲染：`packages/project-editor/project/ui/ProjectEditor.tsx:252–260`（`component === "editor"`）
- LVGL 页面编辑器：`packages/project-editor/features/page/PageEditor.tsx`
- LVGL 控件默认文本（需翻译）：
  - 示例：`packages/project-editor/lvgl/widgets/Label.tsx`（默认 `text`）
  - 示例：`packages/project-editor/lvgl/widgets/Button.tsx:28–50`（内嵌 Label 默认 `text: "Button"`）
  - 其它控件位于 `packages/project-editor/lvgl/widgets/*.tsx`，查找 `defaultValue` 中的英文字符串（如 "Hello, world!"）。

## 右侧区域
- Properties（属性面板）
  - 布局：`packages/project-editor/store/layout-models.tsx:451–456`
  - 渲染：`packages/project-editor/project/ui/ProjectEditor.tsx:208–210`（`<PropertiesPanel />`）
  - 属性网格组件：`packages/project-editor/ui-components/PropertyGrid/index.tsx:297–396`
  - 属性分组定义（标题需要翻译）：`packages/project-editor/ui-components/PropertyGrid/groups.ts`
    - "Indentation"、"General"、"Specific"、"Layout"、"Flow"、"Position and size"、"Style"、"Timeline keyframe"
- Components Palette（组件面板）
  - 布局：`packages/project-editor/store/layout-models.tsx:461–466`（`LayoutModels.COMPONENTS_PALETTE_TAB`）
  - 渲染：`packages/project-editor/project/ui/ProjectEditor.tsx:212–214`（`<ComponentsPalette />`）
  - 面板内分组/标签：
    - 顶部标签："Widgets"、"Actions"
    - 分组名示例："Basic"（来自各控件 `componentPaletteGroupName: "!1Basic"`，例如 `widgets/Button.tsx`）

## 底部面板
- Checks：`packages/project-editor/project/ui/ProjectEditor.tsx:224–231`（`component === "checksMessages"`）→ 统一使用 `Output` 组件
- Output：`packages/project-editor/project/ui/ProjectEditor.tsx:234–241`
- Search：`packages/project-editor/project/ui/ProjectEditor.tsx:244–246` → `packages/project-editor/project/ui/SearchPanel.tsx`
  - 字符串："Toggle Replace"、"Search"、"Match Case"、"Match Whole Word"、"Refresh Search Results"、"Next Result"、"Previous Result"、"Replace"、"Replace Selected"、"Replace All"
- References：`packages/project-editor/project/ui/ProjectEditor.tsx:248–250` → `packages/project-editor/project/ui/ReferencesPanel.tsx`

## 调试相关面板（运行/调试模式）
- Active Flows：`packages/project-editor/store/layout-models.tsx:575–581`
- Watch：`packages/project-editor/store/layout-models.tsx:588–594`
- Queue：`packages/project-editor/store/layout-models.tsx:616–621`
- Logs：`packages/project-editor/store/layout-models.tsx:630–636`
- Breakpoints：`packages/project-editor/project/ui/ProjectEditor.tsx:216–218` → `flow/debugger/BreakpointsPanel.tsx`
- 需要翻译的字符串（常见）：
  - 断点："Disable all breakpoints"、"Enable all breakpoints"、"Remove selected breakpoint"、"Remove all breakpoints"、"Disable breakpoint"、"Enable breakpoint"
  - 队列控制："Resume (F5)"、"Pause (F6)"、"Step over (F10)"、"Step into (F11)"、"Step out (Shift + F11)"

## 设置导航（Settings）
- 导航 UI：`packages/project-editor/project/ui/SettingsNavigation.tsx`（新增项按钮处）
  - 相关字符串："Add"、动态项名（如 "Item" / "User Widget" / "User Action" / "Style" / "Group" 等）
  - 参考行：`packages/project-editor/project/ui/SettingsNavigation.tsx:658–665`（根据当前选中对象决定可添加项；生成按钮标题）

## 变量面板子标签（示例位置）
- 文件：`packages/project-editor/features/variable/VariablesNavigation.tsx`
- 需要翻译："Global"、"Local"、"Structs"、"Enums"

## 翻译方式建议
- 统一在 `packages/eez-studio-shared/strings.ts` 的 `"zh-CN"` 映射中添加键值（不改组件代码逻辑时优先添加已有键的中文）。
- 业务组件内引用统一通过 `t(key, fallback)`，例如：`title={t("Build", "Build")}`。
- 若发现硬编码英文未接入 `t()`（例如 `PropertyGrid/groups.ts` 的分组标题），建议补充接入并在 `strings.ts` 中加入中文映射。

## 附：已知未接入 t() 的分组标题
- `packages/project-editor/ui-components/PropertyGrid/groups.ts`
  - "Indentation"、"General"、"Specific"、"Layout"、"Flow"、"Position and size"、"Style"、"Timeline keyframe"（目前为字面量，建议改为 `t("...")` 并在 `strings.ts` 加中文）

> 注：本文面向“项目打开后的主工作页面”的常见可见字符串；控件属性说明文字、校验消息等更细项可在具体功能模块中进一步补充。
